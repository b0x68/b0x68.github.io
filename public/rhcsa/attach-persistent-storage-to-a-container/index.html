<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Attach persistent storage to a container :: b0x68</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="How to Attach Persistent Storage to a Container in Red Hat Certified Systems Administrator Exam 200 Introduction One of the key skills that is assessed in the Red Hat Certified Systems Administrator Exam 200 is the ability to attach persistent storage to a container. This tutorial will guide you through the process of attaching persistent storage to a container on a Red Hat Enterprise Linux system.
Prerequisites Before we begin, make sure that you have the following prerequisites:" />
<meta name="keywords" content="RHCSA, Red Hat, System Administrator, Linux, Sysadmin, Tutorial, Exam 200" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://b0x68.github.io/rhcsa/attach-persistent-storage-to-a-container/" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>





  
  
  
  
  
  <link rel="stylesheet" href="http://b0x68.github.io/styles.css">







  <link rel="shortcut icon" href="http://b0x68.github.io/img/theme-colors/green.png">
  <link rel="apple-touch-icon" href="http://b0x68.github.io/img/theme-colors/green.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Attach persistent storage to a container">
<meta property="og:description" content="How to Attach Persistent Storage to a Container in Red Hat Certified Systems Administrator Exam 200 Introduction One of the key skills that is assessed in the Red Hat Certified Systems Administrator Exam 200 is the ability to attach persistent storage to a container. This tutorial will guide you through the process of attaching persistent storage to a container on a Red Hat Enterprise Linux system.
Prerequisites Before we begin, make sure that you have the following prerequisites:" />
<meta property="og:url" content="http://b0x68.github.io/rhcsa/attach-persistent-storage-to-a-container/" />
<meta property="og:site_name" content="b0x68" />

  
  
  <meta property="og:image" content="http://b0x68.github.io">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2024-02-16 11:55:20 -0500 EST" />












</head>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>

<body class="green">


<div class="container center headings--one-size">

  <header class="header">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>

  <div class="header__inner">
    <div class="header__logo" style="margin-top: 10px;margin-left: 0px;margin-right: 0px;margin-bottom: 10px;">
      <a href="/about">
  <div class="logo">
    b0x68
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/rhcsa">RHCSA</a></li>
        
      
        
          <li><a href="/tech">Tech</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        <li><a href="/about" >About</a></li>
      
    
      
        <li><a href="/rhcsa" >RHCSA</a></li>
      
    
      
        <li><a href="/tech" >Tech</a></li>
      
    
  </ul>
</nav>


  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="http://b0x68.github.io/rhcsa/attach-persistent-storage-to-a-container/">Attach persistent storage to a container</a>
  </h1>
  <div class="post-meta"><time class="post-date">2024-02-16[Updated::2024-02-16]</time><span class="post-author">root</span><span class="post-reading-time">4 min read (746 words)</span></div>

  
    <span class="post-tags">
      
      #<a href="http://b0x68.github.io/tags/rhcsa/">RHCSA</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/red-hat/">Red Hat</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/system-administrator/">System Administrator</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/linux/">Linux</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/sysadmin/">Sysadmin</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/tutorial/">Tutorial</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/exam-200/">Exam 200</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h1 id="how-to-attach-persistent-storage-to-a-container-in-red-hat-certified-systems-administrator-exam-200">How to Attach Persistent Storage to a Container in Red Hat Certified Systems Administrator Exam 200<a href="#how-to-attach-persistent-storage-to-a-container-in-red-hat-certified-systems-administrator-exam-200" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="introduction">Introduction<a href="#introduction" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>One of the key skills that is assessed in the Red Hat Certified Systems Administrator Exam 200 is the ability to attach persistent storage to a container. This tutorial will guide you through the process of attaching persistent storage to a container on a Red Hat Enterprise Linux system.</p>
<h2 id="prerequisites">Prerequisites<a href="#prerequisites" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Before we begin, make sure that you have the following prerequisites:</p>
<ul>
<li>A Red Hat Enterprise Linux system with Docker installed.</li>
<li>Basic knowledge of Docker and containers.</li>
<li>Basic knowledge of persistent storage and file systems.</li>
<li>Root or sudo privileges on the system.</li>
</ul>
<h2 id="step-1-check-storage-availability">Step 1: Check Storage Availability<a href="#step-1-check-storage-availability" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>The first step is to check the storage availability on your system. This can be done by using the <code>df</code> command, which displays the currently available storage volumes and their mount points. Ensure that you have enough available space for the persistent storage that you want to attach to the container.</p>
<h2 id="step-2-create-a-persistent-storage-volume">Step 2: Create a Persistent Storage Volume<a href="#step-2-create-a-persistent-storage-volume" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Next, you need to create a persistent storage volume that will be attached to the container. This can be achieved using a variety of methods, such as LVM, NFS, or GlusterFS. In this tutorial, we will be using a normal ext4 file system for our persistent storage.</p>
<p>To create the persistent storage volume, follow these steps:</p>
<ol>
<li>Choose a location for your persistent storage volume, preferably on a separate partition or disk.</li>
<li>Create a new partition using the <code>parted</code> or <code>fdisk</code> command.</li>
<li>Format the partition to the ext4 file system using the <code>mkfs</code> command.</li>
<li>Create a mount point for the persistent storage using the <code>mkdir</code> command.</li>
<li>Mount the persistent storage volume to the mount point using the <code>mount</code> command.</li>
<li>Verify that the persistent storage is successfully mounted by using the <code>df</code> command.</li>
</ol>
<h2 id="step-3-start-a-container">Step 3: Start a Container<a href="#step-3-start-a-container" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Now that we have our persistent storage volume ready, we can start a container and attach the storage to it. To start a container, you can use the <code>docker run</code> command, specifying the persistent storage volume with the <code>--volume</code> flag. For example:</p>
<pre tabindex="0"><code>docker run -it --name mycontainer --volume /path/to/persistent/storage:/container/storage:Z &lt;image_name&gt;
</code></pre><p>In this command, we are starting a container with the name <code>mycontainer</code> and attaching the persistent storage volume located at <code>/path/to/persistent/storage</code> to the container&rsquo;s internal storage location at <code>/container/storage</code>.</p>
<p>Note the use of the <code>:Z</code> at the end of the volume flag. This is important because it sets the security context of the persistent storage to match that of the container, allowing the container to have the necessary read/write access to the storage.</p>
<h2 id="step-4-verify-persistent-storage-attachment">Step 4: Verify Persistent Storage Attachment<a href="#step-4-verify-persistent-storage-attachment" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>To verify that the persistent storage has been successfully attached to the container, you can use the <code>docker inspect</code> command. This command will display detailed information about the container, including its mounted volumes. You should see your persistent storage volume listed as a mounted volume for the container.</p>
<h2 id="step-5-modify-container-to-use-persistent-storage">Step 5: Modify Container to Use Persistent Storage<a href="#step-5-modify-container-to-use-persistent-storage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>By default, the container will not automatically use the attached persistent storage. To modify the container to use the persistent storage, you need to make changes to its configuration. This can be done in several ways, such as using the <code>docker commit</code> command or editing the container&rsquo;s Dockerfile. For the purposes of this tutorial, we will be using the <code>docker commit</code> command to make changes to the container.</p>
<p>To modify the container using the <code>docker commit</code> command, follow these steps:</p>
<ol>
<li>
<p>Edit the container&rsquo;s configuration to use the persistent storage. For example, if you want to modify the container&rsquo;s Apache configuration, you would edit the <code>/etc/httpd/conf/httpd.conf</code> file.</p>
</li>
<li>
<p>Stop the container using the <code>docker stop</code> command.</p>
</li>
<li>
<p>Use the <code>docker commit</code> command to create a new image from the modified container. For example:</p>
<pre tabindex="0"><code>docker commit mycontainer myimage
</code></pre><p>This will create a new image, named <code>myimage</code>, from the modified container <code>mycontainer</code>.</p>
</li>
<li>
<p>Start a new container using the newly created image, specifying the persistent storage volume with the <code>--volume</code> flag once again.</p>
</li>
<li>
<p>Verify that the container is now using the modified configuration, which should be accessing the persistent storage.</p>
</li>
</ol>
<h2 id="conclusion">Conclusion<a href="#conclusion" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Congratulations! You have now successfully attached persistent storage to a container on your Red Hat Enterprise Linux system. This is a valuable skill that is frequently used in production environments, and one that you will be expected to demonstrate in the Red Hat Certified Systems Administrator Exam 200. Practice and master this skill, and you will be well on your way to becoming a Red Hat Certified Systems Administrator.</p>

      </div></div>

  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2024 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
