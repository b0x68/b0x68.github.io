<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Manage SELinux port labels :: b0x68</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Tutorial: Managing SELinux Port Labels Introduction Welcome to our tutorial on managing SELinux port labels! This tutorial will provide you with a step-by-step guide on how to effectively manage SELinux port labels. The ability to manage SELinux port labels is an important skill for any Red Hat Certified Systems Administrator, as it allows you to control access to network services and protect your system from potential attacks.
Prerequisites Before we begin, make sure you have the following:" />
<meta name="keywords" content="RHCSA, Red Hat, System Administrator, Linux, Sysadmin, Tutorial, Exam 200" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://b0x68.github.io/rhcsa/manage-selinux-port-labels/" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>





  
  
  
  
  
  <link rel="stylesheet" href="http://b0x68.github.io/styles.css">







  <link rel="shortcut icon" href="http://b0x68.github.io/img/theme-colors/green.png">
  <link rel="apple-touch-icon" href="http://b0x68.github.io/img/theme-colors/green.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Manage SELinux port labels">
<meta property="og:description" content="Tutorial: Managing SELinux Port Labels Introduction Welcome to our tutorial on managing SELinux port labels! This tutorial will provide you with a step-by-step guide on how to effectively manage SELinux port labels. The ability to manage SELinux port labels is an important skill for any Red Hat Certified Systems Administrator, as it allows you to control access to network services and protect your system from potential attacks.
Prerequisites Before we begin, make sure you have the following:" />
<meta property="og:url" content="http://b0x68.github.io/rhcsa/manage-selinux-port-labels/" />
<meta property="og:site_name" content="b0x68" />

  
  
  <meta property="og:image" content="http://b0x68.github.io">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2024-02-16 11:53:34 -0500 EST" />












</head>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>

<body class="green">


<div class="container center headings--one-size">

  <header class="header">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YKQ014248H"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YKQ014248H', { 'anonymize_ip': false });
}
</script>

  <div class="header__inner">
    <div class="header__logo" style="margin-top: 10px;margin-left: 0px;margin-right: 0px;margin-bottom: 10px;">
      <a href="/about">
  <div class="logo">
    b0x68
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/rhcsa">RHCSA</a></li>
        
      
        
          <li><a href="/tech">Tech</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        <li><a href="/about" >About</a></li>
      
    
      
        <li><a href="/rhcsa" >RHCSA</a></li>
      
    
      
        <li><a href="/tech" >Tech</a></li>
      
    
  </ul>
</nav>


  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="http://b0x68.github.io/rhcsa/manage-selinux-port-labels/">Manage SELinux port labels</a>
  </h1>
  <div class="post-meta"><time class="post-date">2024-02-16[Updated::2024-02-16]</time><span class="post-author">root</span><span class="post-reading-time">4 min read (786 words)</span></div>

  
    <span class="post-tags">
      
      #<a href="http://b0x68.github.io/tags/rhcsa/">RHCSA</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/red-hat/">Red Hat</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/system-administrator/">System Administrator</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/linux/">Linux</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/sysadmin/">Sysadmin</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/tutorial/">Tutorial</a>&nbsp;
      
      #<a href="http://b0x68.github.io/tags/exam-200/">Exam 200</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h1 id="tutorial-managing-selinux-port-labels">Tutorial: Managing SELinux Port Labels<a href="#tutorial-managing-selinux-port-labels" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="introduction">Introduction<a href="#introduction" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Welcome to our tutorial on managing SELinux port labels! This tutorial will provide you with a step-by-step guide on how to effectively manage SELinux port labels. The ability to manage SELinux port labels is an important skill for any Red Hat Certified Systems Administrator, as it allows you to control access to network services and protect your system from potential attacks.</p>
<h2 id="prerequisites">Prerequisites<a href="#prerequisites" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Before we begin, make sure you have the following:</p>
<ul>
<li>A Red Hat Certified Systems Administrator Exam 200 level knowledge on SELinux</li>
<li>A Red Hat Enterprise Linux system</li>
<li>Root access or sudo privileges</li>
</ul>
<h2 id="understanding-selinux">Understanding SELinux<a href="#understanding-selinux" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>SELinux (Security-Enhanced Linux) is a security mechanism implemented in the Linux Kernel that provides an access control system for enforcing mandatory access controls on processes and users. It adds an additional layer of security to your system by limiting the access of programs and processes to only the specific resources they need.</p>
<p>One of the ways SELinux achieves this is through the use of port labels. Port labels are attached to network ports and determine which applications are allowed to communicate through those ports. By managing SELinux port labels, you can control which programs and services have access to specific network ports.</p>
<h2 id="step-1-check-selinux-status">Step 1: Check SELinux Status<a href="#step-1-check-selinux-status" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Before we start managing SELinux port labels, it&rsquo;s important to check the status of SELinux on your system. To do this, run the following command:</p>
<pre tabindex="0"><code>sestatus
</code></pre><p>If SELinux is enabled, you will see the following output:</p>
<pre tabindex="0"><code>SELinux status: enabled
</code></pre><p>If SELinux is disabled, you will see the following output:</p>
<pre tabindex="0"><code>SELinux status: disabled
</code></pre><p>If SELinux is disabled, you will need to enable it before you can proceed with managing port labels. This can be done by modifying the SELinux configuration file located at <code>/etc/selinux/config</code>.</p>
<h2 id="step-2-list-all-current-port-labels">Step 2: List All Current Port Labels<a href="#step-2-list-all-current-port-labels" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>To view the current port labels on your system, run the following command:</p>
<pre tabindex="0"><code>semanage port -l
</code></pre><p>This will list all the current port labels and their associated protocols, types, and contexts. It will also indicate whether the port is currently allowed or blocked by SELinux.</p>
<h2 id="step-3-adding-a-new-port-label">Step 3: Adding a New Port Label<a href="#step-3-adding-a-new-port-label" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>To add a new port label, you will need to use the <code>semanage</code> tool. This tool allows you to manage SELinux policy modules. Here&rsquo;s the syntax for adding a new port label:</p>
<pre tabindex="0"><code>semanage port -a -t &lt;type&gt; [-p &lt;protocol&gt;] &lt;port&gt;
</code></pre><ul>
<li><code>-a</code> indicates that we want to add a new port label</li>
<li><code>-t</code> specifies the type of the port</li>
<li><code>-p</code> (optional) specifies the protocol of the port (if not specified, it will default to <code>tcp</code>)</li>
<li><code>&lt;port&gt;</code> the port number you want to add</li>
</ul>
<p>For example, to add a new port label for SSH (port 22) using the TCP protocol, we would run the following command:</p>
<pre tabindex="0"><code>semanage port -a -t ssh_port_t -p tcp 22
</code></pre><h2 id="step-4-modifying-an-existing-port-label">Step 4: Modifying an Existing Port Label<a href="#step-4-modifying-an-existing-port-label" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>If you need to modify an existing port label, you can use the <code>semanage</code> too as well. Here&rsquo;s the syntax for modifying an existing port label:</p>
<pre tabindex="0"><code>semanage port -m -t &lt;new_type&gt; [-p &lt;new_protocol&gt;] &lt;port&gt;
</code></pre><ul>
<li><code>-m</code> indicates that we want to modify an existing port label</li>
<li><code>-t</code> specifies the new type of the port</li>
<li><code>-p</code> (optional) specifies the new protocol of the port (if not specified, it will default to the existing protocol)</li>
<li><code>&lt;port&gt;</code> the port number you want to modify</li>
</ul>
<p>For example, to change the type of the SSH port label to <code>http_port_t</code>, we would run the following command:</p>
<pre tabindex="0"><code>semanage port -m -t http_port_t 22
</code></pre><h2 id="step-5-deleting-a-port-label">Step 5: Deleting a Port Label<a href="#step-5-deleting-a-port-label" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>If you no longer need a port label, you can delete it using the <code>semanage</code> tool. Here&rsquo;s the syntax for deleting a port label:</p>
<pre tabindex="0"><code>semanage port -d -p &lt;protocol&gt; &lt;port&gt;
</code></pre><ul>
<li><code>-d</code> indicates that we want to delete a port label</li>
<li><code>-p</code> specifies the protocol of the port</li>
<li><code>&lt;port&gt;</code> the port number of the label you want to delete</li>
</ul>
<p>For example, to delete the port label for SSH (port 22), we would run the following command:</p>
<pre tabindex="0"><code>semanage port -d -p tcp 22
</code></pre><h2 id="step-6-checking-if-port-label-changes-persist-after-reboot">Step 6: Checking if Port Label Changes Persist After Reboot<a href="#step-6-checking-if-port-label-changes-persist-after-reboot" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>After making any changes to port labels, it&rsquo;s important to check if they persist after a system reboot. To do this, simply reboot your system and then run the <code>semanage port -l</code> command again to see if your changes are still in effect.</p>
<h2 id="conclusion">Conclusion<a href="#conclusion" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Congratulations! You have successfully learned how to manage SELinux port labels. By using the <code>semanage</code> tool, you can easily add, modify, and delete port labels to control access to network ports and enhance the security of your system. Managing port labels is an essential skill for any Red Hat Certified Systems Administrator, and we hope this tutorial has provided you with a thorough understanding of how to do it effectively.</p>

      </div></div>

  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2024 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
